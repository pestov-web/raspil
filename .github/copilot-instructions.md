# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ Copilot –¥–ª—è AI-–∫–æ–¥-–∞–≥–µ–Ω—Ç–æ–≤

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ ¬´Raspil¬ª ‚Äî –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ React, —Å–æ–±—Ä–∞–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é Vite –∏ TypeScript –∏ —Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π Tailwind CSS. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —É—á–∏—Ç—ã–≤–∞—Ç—å –∏—Ö —Ç—Ä–∞—Ç—ã, –ø–æ–ª—É—á–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç ¬´–∫—Ç–æ –∫–æ–º—É –¥–æ–ª–∂–µ–Ω¬ª –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –≤ –ø–æ–≤—Ç–æ—Ä—ã. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî **Feature-Sliced Design (FSD)**, —Å —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π –∏ —Å–ª–æ—è–º–∏ UI.

## –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

-   **–ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏:**
    -   `Person` ‚Äî –ø–æ–ª—è `id`, `name`, `expenses` (—Å—Ç—Ä–æ–∫–æ–≤—ã–π –≤–≤–æ–¥), `duty` (—Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ)
    -   `Session` ‚Äî `id`, `name`, –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏, —Å–Ω–∏–º–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, —Å—É–º–º–∞—Ä–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ —Ñ–ª–∞–≥ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
-   **–ì–ª–∞–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `~pages/home/ui/HomePage.tsx` —á–µ—Ä–µ–∑ `useState` (—Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∏ –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ—Å—Å–∏—è)
-   **–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
    -   –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–º–∏–Ω–∏–º—É–º –æ–¥–∏–Ω —É—á–∞—Å—Ç–Ω–∏–∫ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
    -   –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –∏ —Å—É–º–º—ã —Ä–∞—Å—Ö–æ–¥–æ–≤
    -   –†–∞—Å—á—ë—Ç –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π: `perPersonShare - actualExpenses = duty`
    -   –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ duty ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –¥–æ–ø–ª–∞—Ç–∏—Ç—å, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ ‚Äî –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å
    -   –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ –≤ LocalStorage –Ω–∞ –∫–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ
    -   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞/—É–¥–∞–ª–µ–Ω–∏–µ –∏–º–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π, –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –±—ç–∫–∞–ø–æ–≤
    -   –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —à–∞—Ä–∏–Ω–≥-—Å—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ –∫–æ—Ä–Ω–µ–≤–æ–π `/?data=...`; –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/share`
    -   –ü–æ–∫–∞–∑ QR-–∫–æ–¥–∞ –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ –∏ —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å—á—ë—Ç–∞ –≤ CSV/PDF

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ FSD –∏ –∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

-   **–¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** `src/main.jsx` ‚Üí `~app/main.tsx`, –≥–¥–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è React + StrictMode
-   **–°–ª–æ–∏ FSD:**
    ```
    src/
    ‚îú‚îÄ‚îÄ app/                    # üèó –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx            # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx           # –°—Ç–∞—Ä—Ç–æ–≤–∞—è —Ç–æ—á–∫–∞
    ‚îú‚îÄ‚îÄ pages/                 # üìÑ –°—Ç—Ä–∞–Ω–∏—Ü—ã-—Ä–æ—É—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ home/              # –ì–ª–∞–≤–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä + —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    ‚îÇ   ‚îî‚îÄ‚îÄ share-session/     # –ò–º–ø–æ—Ä—Ç —Ä–∞—Å—á—ë—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ
    ‚îú‚îÄ‚îÄ widgets/               # üß© –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–µ UI-–±–ª–æ–∫–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ expense-calculator/ # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ expense-summary/   # –ò—Ç–æ–≥–∏ –∏ –ø–µ—Ä–µ–≤–æ–¥—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ people-manager/    # –ö–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–∞—Å—á—ë—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ people-table/      # –¢–∞–±–ª–∏—Ü–∞ –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö
    ‚îÇ   ‚îú‚îÄ‚îÄ session-controls/  # –ü–∞–Ω–µ–ª—å –¥–µ–π—Å—Ç–≤–∏–π + –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é
    ‚îÇ   ‚îî‚îÄ‚îÄ session-manager/   # –ú–æ–¥–∞–ª —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
    ‚îú‚îÄ‚îÄ features/              # üöÄ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ add-person/        # –°–æ–∑–¥–∞–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ calculate-duties/  # –ü–µ—Ä–µ—Ä–∞—Å—á—ë—Ç –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π
    ‚îÇ   ‚îú‚îÄ‚îÄ save-session/      # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞—Å—á—ë—Ç–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ load-session/      # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏
    ‚îú‚îÄ‚îÄ entities/              # üéØ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ person/            # –ú–æ–¥–µ–ª—å —á–µ–ª–æ–≤–µ–∫–∞ –∏ —É—Ç–∏–ª–∏—Ç—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ session/           # –ú–æ–¥–µ–ª—å —Å–µ—Å—Å–∏–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
    ‚îî‚îÄ‚îÄ shared/                # ‚ö° –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã
        ‚îú‚îÄ‚îÄ lib/               # –ë–∏–∑–Ω–µ—Å-—Ä–∞—Å—á—ë—Ç—ã –∏ helpers —Ä–∞–±–æ—Ç—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
        ‚îú‚îÄ‚îÄ ui/                # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (StatCard, ToastProvider, ConfirmDialog)
        ‚îú‚îÄ‚îÄ styles/            # –ì–ª–æ–±–∞–ª—å–Ω—ã–π CSS
        ‚îî‚îÄ‚îÄ types/             # –û–±—â–∏–µ —Ç–∏–ø—ã –∏ –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏
    ```
-   **–ü—Ä–∞–≤–∏–ª–∞ –∏–º–ø–æ—Ä—Ç–æ–≤:** —Ç–æ–ª—å–∫–æ ¬´–≤–Ω–∏–∑¬ª –ø–æ —Å–ª–æ—è–º ‚Äî `app ‚Üí pages ‚Üí widgets ‚Üí features ‚Üí entities ‚Üí shared`
-   **–ü—É–±–ª–∏—á–Ω—ã–µ API:** –∫–∞–∂–¥—ã–π —Å–ª–æ–π —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `index.ts`

## –ü—Å–µ–≤–¥–æ–Ω–∏–º—ã –ø—É—Ç–µ–π

-   **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vite/TypeScript:** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è FSD-–∞–ª–∏–∞—Å—ã
    ```typescript
    // –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
    import type { Person } from '~entities/person';
    import { StatCard } from '~shared/ui';
    import { AddPersonButton } from '~features/add-person';
    ```
-   **–î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–ª–∏–∞—Å—ã:** `~app`, `~pages`, `~widgets`, `~features`, `~entities`, `~shared`

> –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ helpers –∏–∑ `~shared/lib`, –∞ —Ç–∏–ø—ã/—É—Ç–∏–ª–∏—Ç—ã —Å–µ—Å—Å–∏–π ‚Äî –∏–∑ `~entities/session`.

## –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

-   **–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤:** `pnpm` (`pnpm-lock.yaml` —É–∂–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
-   **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** `pnpm dev` –∑–∞–ø—É—Å–∫–∞–µ—Ç dev-—Å–µ—Ä–≤–µ—Ä Vite —Å HMR
-   **–°–±–æ—Ä–∫–∞:** `pnpm build` —Å–æ–∑–¥–∞—ë—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–¥–∞–∫—à–Ω-–±–∞–Ω–¥–ª
-   **–õ–∏–Ω—Ç–∏–Ω–≥:** `pnpm lint` ‚Äî ESLint —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏ –¥–ª—è React –∏ Fast Refresh
-   **–¢–µ—Å—Ç—ã:** `pnpm test` ‚Äî Vitest (–ø—Ä–∏–º–µ—Ä ‚Äî –ø–∞–ø–∫–∞ `src/tests`)
-   **–ü–æ–∫—Ä—ã—Ç–∏–µ:** `pnpm test:coverage` ‚Äî –æ—Ç—á—ë—Ç –ø–æ–∫—Ä—ã—Ç–∏—è
-   **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä:** `pnpm preview` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–¥-—Å–±–æ—Ä–∫–∏
-   **PWA-–ø—Ä–æ–≤–µ—Ä–∫–∞:** `pnpm build && pnpm preview` ‚Äî –±—ã—Å—Ç—Ä–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è SW –∏ –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏ –∏ UI

-   **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Tailwind CSS v4.1.12 (Vite-–ø–ª–∞–≥–∏–Ω)
-   **–¢—ë–º–Ω–∞—è —Ç–µ–º–∞:** —Ä–µ–∂–∏–º `class`; –≤ `src/shared/styles/index.css` –æ–±—ä—è–≤–ª–µ–Ω–æ `@custom-variant dark (&:where(.dark, .dark *));`, –∞ `theme.apply()` –∏–∑ `~shared/lib/theme.ts` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –∫–ª–∞—Å—Å –∏ `data-theme` –Ω–∞ `<html>` –∏ `<body>`
-   **–î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞:**
    -   –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –ø–æ–¥–ª–æ–∂–∫–∏ (`bg-gradient-to-br`)
    -   –ó–∞–∫—Ä—É–≥–ª–µ–Ω–∏—è (`rounded-xl`, `rounded-2xl`)
    -   –¢–µ–Ω–∏ (`shadow-xl`)
    -   –¶–≤–µ—Ç–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∫—Ä–∞—Å–Ω—ã–π ‚Äî –¥–æ–ª–≥, –∑–µ–ª—ë–Ω—ã–π ‚Äî –≤–æ–∑–≤—Ä–∞—Ç)
-   **–ò–∫–æ–Ω–∫–∏:** Lucide React (`Plus`, `Calculator`, `Users`, `MinusCircle`, `Calendar`, `DollarSign` –∏ –¥—Ä.)
-   **–ú–∞–∫–µ—Ç—ã:** –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∫–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —à–∏—Ä–∏–Ω–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
-   **–®–∞—Ä–µ–¥-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** `~shared/ui/StatCard`, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `ToastProvider`, –¥–∏–∞–ª–æ–≥–∏ —á–µ—Ä–µ–∑ `ConfirmDialog`

## –¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

-   **Vite:** React-–ø–ª–∞–≥–∏–Ω, Tailwind-–ø–ª–∞–≥–∏–Ω, FSD-–∞–ª–∏–∞—Å—ã, `vite-plugin-pwa`
-   **–†–æ—É—Ç–∏–Ω–≥:** `react-router-dom` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ `/` –∏ `/share`; –ø–µ—Ä–µ–¥ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–º. `bootstrapShareRoute` –≤ `~app/main.tsx`, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–≤–æ–¥–∏—Ç `/?data=...` –Ω–∞ `/share`
-   **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –¥–∏–∞–ª–æ–≥–∏:** –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ `ToastProvider`, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ Headless UI `Dialog`
-   **ESLint:** —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è flat-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ —Ö—É–∫–æ–≤
-   **TypeScript:** —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º, `.tsx` —Ñ–∞–π–ª—ã, –∞–ª–∏–∞—Å—ã –ø–æ —Å–ª–æ—è–º
-   **Vitest:** jsdom-–æ–∫—Ä—É–∂–µ–Ω–∏–µ
-   **–•—Ä–∞–Ω–µ–Ω–∏–µ:** LocalStorage —á–µ—Ä–µ–∑ `~shared/lib/storage` (–±–µ–∑ –±—ç–∫–µ–Ω–¥–∞)

## –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏

-   **–°–ª–æ–∏ FSD:**
    -   –õ–æ–≥–∏–∫–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π ‚Äî –≤ `~entities/*/lib`
    -   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è ‚Äî –≤ `~features/*`
    -   –ö–æ–º–ø–æ–∑–∏—Ç–Ω—ã–π UI ‚Äî –≤ `~widgets/*`
    -   –†–æ—É—Ç–∏–Ω–≥ ‚Äî –≤ `~app/App.tsx`
    -   –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (—Ä–∞—Å—á—ë—Ç—ã, storage, sharing) ‚Äî –≤ `~shared/lib`
-   **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è ID:** `createPerson()` (person) –∏ `generateSessionId()` (session)
-   **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
    -   –¢–∏–ø—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ `import type {...}
    -   –ü–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã —Å–µ—Å—Å–∏–π ‚Äî –≤ `~entities/session`
    -   –°–ª–µ–¥–∏—Ç–µ, —á—Ç–æ–±—ã –∏–º–ø–æ—Ä—Ç—ã —à–ª–∏ –ø–æ –∞–ª–∏–∞—Å–∞–º
-   **–†–∞—Å—á—ë—Ç—ã:**
    -   –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Äî `~shared/lib/calculations`
    -   –ü–∞—Ä—Å–∏–Ω–≥ —Å—É–º–º: `parseFloat(person.expenses) || 0`
    -   –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ: `roundToCents()` (helpers –∏–∑ `calculations.ts`, –∏–∑–±–µ–≥–∞–µ–º —Ä—É—á–Ω–æ–≥–æ `Math.round`)
    -   –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã: `calculateTransfers(people)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ `TransferPlan`
-   **Persistence:**
    -   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `storage` –∏–∑ `~shared/lib/storage`
    -   –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–π –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –¥–∞—Ç—ã –∫ `Date`
    -   –ù–∞–ø—Ä—è–º—É—é —Å `localStorage` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ–º
    -   –®–∞—Ä–∏–Ω–≥ (`createShareUrl`, `decodeSessionFromShare`) ‚Äî –≤ `~shared/lib/share`
-   **–≠–∫—Å–ø–æ—Ä—Ç:**
    -   CSV/PDF —Å–æ–±—Ä–∞–Ω—ã –≤ `~shared/lib/export`; –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ —Å–µ—Å—Å–∏—é
    -   PDF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ensureRobotoFont` –∏–∑ `pdf-fonts.ts` (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Roboto —Å `Identity-H`)
    -   CSV –¥–æ–±–∞–≤–ª—è–µ—Ç UTF-8 BOM; –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ —Å–ø–∏—Å–æ–∫ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
-   **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:**
    -   –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `alert`/`prompt`/`confirm`; –≤–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ `useToast` + Headless UI `Dialog`
    -   –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π (—É–¥–∞–ª–µ–Ω–∏–µ, –Ω–æ–≤–∞—è —Å–µ—Å—Å–∏—è) ‚Äî `ConfirmDialog`
    -   –ü—Ä–∏ –æ—à–∏–±–∫–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Å—ã–ª–∫–∏ ‚Äî fallback-–º–æ–¥–∞–ª —Å —Ä—É—á–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
-   **PWA-–∞—Å—Å–µ—Ç—ã:** –¥–µ—Ä–∂–∏—Ç–µ `public/icon.svg`, `public/favicon.svg` –∏ PNG-–≤–µ—Ä—Å–∏–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–º–∏ —Å `vite.config.js`

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

-   **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–∏—Ö —Ä–∞—Å—á—ë—Ç–æ–≤:**

    ```typescript
    import { calculateTransfers } from '~shared/lib/calculations';

    const transfers = calculateTransfers(people);
    transfers.forEach(({ debtor, creditor, amount }) => {
        // debtor.duty > 0, creditor.duty < 0, amount —É–∂–µ –æ–∫—Ä—É–≥–ª—ë–Ω
    });
    ```

-   **–ù–æ–≤—ã–π –≤–∏–¥–∂–µ—Ç:**

    ```typescript
    // src/widgets/expense-stats/ui/ExpenseStats.tsx
    import type { Person } from '~entities/person';
    import { StatCard } from '~shared/ui';
    import { calculateTotalExpenses } from '~shared/lib/calculations';

    interface ExpenseStatsProps {
        people: Person[];
    }

    export const ExpenseStats = ({ people }: ExpenseStatsProps) => {
        const total = calculateTotalExpenses(people);
        return <StatCard icon={<Calculator size={20} />} title='Total' value={`${total.toFixed(2)} ‚ÇΩ`} />;
    };
    ```

-   **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤–æ–π feature:**

    ```
    src/features/calculate-duties/
    ‚îú‚îÄ‚îÄ ui/
    ‚îÇ   ‚îî‚îÄ‚îÄ CalculateDutiesButton.tsx    // UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    ‚îú‚îÄ‚îÄ model/                           // –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
    ‚îî‚îÄ‚îÄ index.ts                         // –≠–∫—Å–ø–æ—Ä—Ç –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
    ```

-   **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–∏:**

    ```typescript
    import type { Session } from '~entities/session';
    import type { Person } from '~entities/person';
    import { updateSession } from '~entities/session';
    import { storage } from '~shared/lib';

    const persistSession = (session: Session, people: Person[]) => {
        const payload = updateSession(session, {
            name: '–û—Ç–ø—É—Å–∫ –Ω–∞ –ê–ª—Ç–∞–µ',
            people,
            isCalculated: people.some((person) => person.duty !== 0),
        });

        storage.saveNamedSession(payload);
    };
    ```

-   **–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π:**

    ```typescript
    import { createShareUrl } from '~shared/lib';

    const shareSession = (session: Session) => {
        const link = createShareUrl(session);
        void navigator.clipboard.writeText(link);
    };
    ```

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

-   **–í—Ö–æ–¥:** `src/main.jsx` ‚Üí `~app/main.tsx`
-   **–ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:** `~app/App.tsx` ‚Äî RouterProvider –¥–ª—è `/` –∏ `/share`
-   **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `~pages/home/ui/HomePage.tsx`
-   **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–º–ø–æ—Ä—Ç–∞:** `~pages/share-session/ui/ShareSessionPage.tsx`
-   **–°—É—â–Ω–æ—Å—Ç–∏:**
    -   `~entities/person/model/types.ts`
    -   `~entities/session/model/types.ts`
-   **–†–∞—Å—á—ë—Ç—ã:** `~shared/lib/calculations.ts`
-   **–•—Ä–∞–Ω–µ–Ω–∏–µ:** `~shared/lib/storage.ts`
-   **–®–∞—Ä–∏–Ω–≥:** `~shared/lib/share.ts`
-   **UI-–ø–∞–Ω–µ–ª—å —Å–µ—Å—Å–∏–π:** `~widgets/session-controls/SessionControls.tsx`
-   **–ö–æ–Ω—Ñ–∏–≥:** `vite.config.js`
-   **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:** React 19, React Router 7.9, Vite 7.1, TypeScript, Tailwind 4.1, Lucide Icons

---

–ï—Å–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –Ω–µ–æ—á–µ–≤–∏–¥–Ω—ã –∏–ª–∏ —Ç—Ä–µ–±—É—é—Ç —É—Ç–æ—á–Ω–µ–Ω–∏—è, –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å ‚Äî —Ä–∞—Å—à–∏—Ä–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é.
