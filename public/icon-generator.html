<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>SVG to PNG Converter</title>
        <style>
            body {
                font-family: system-ui;
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
            }
            canvas {
                border: 1px solid #ccc;
                margin: 10px;
            }
            button {
                padding: 10px 20px;
                margin: 5px;
                background: #4f46e5;
                color: white;
                border: none;
                border-radius: 6px;
                cursor: pointer;
            }
            button:hover {
                background: #3730a3;
            }
        </style>
    </head>
    <body>
        <h1>üé® Raspil Icon Generator</h1>
        <p>–≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç SVG –∏–∫–æ–Ω–∫–∏ –≤ PNG –¥–ª—è PWA</p>

        <div id="preview"></div>
        <div id="downloads"></div>

        <script>
                    const sizes = [192, 512];
                    const svgContent = \`<svg width="512" height="512" viewBox="0 0 512 512" fill="none" xmlns="http://www.w3.org/2000/svg">
              <circle cx="256" cy="256" r="256" fill="#4f46e5"/>
              <rect x="140" y="120" width="232" height="280" rx="16" fill="#ffffff"/>
              <rect x="155" y="135" width="202" height="250" rx="8" fill="#f8fafc"/>
              <rect x="170" y="150" width="172" height="50" rx="6" fill="#1e293b"/>
              <text x="256" y="185" text-anchor="middle" fill="#10b981" font-family="system-ui" font-size="28" font-weight="bold">‚ÇΩ</text>
              <circle cx="190" cy="235" r="15" fill="#e2e8f0"/>
              <circle cx="230" cy="235" r="15" fill="#e2e8f0"/>
              <circle cx="270" cy="235" r="15" fill="#e2e8f0"/>
              <circle cx="310" cy="235" r="15" fill="#f97316"/>
              <circle cx="190" cy="265" r="15" fill="#e2e8f0"/>
              <circle cx="230" cy="265" r="15" fill="#e2e8f0"/>
              <circle cx="270" cy="265" r="15" fill="#e2e8f0"/>
              <circle cx="310" cy="265" r="15" fill="#f97316"/>
              <circle cx="190" cy="295" r="15" fill="#e2e8f0"/>
              <circle cx="230" cy="295" r="15" fill="#e2e8f0"/>
              <circle cx="270" cy="295" r="15" fill="#e2e8f0"/>
              <circle cx="310" cy="295" r="15" fill="#f97316"/>
              <circle cx="190" cy="325" r="15" fill="#e2e8f0"/>
              <circle cx="230" cy="325" r="15" fill="#e2e8f0"/>
              <circle cx="270" cy="325" r="15" fill="#e2e8f0"/>
              <circle cx="310" cy="325" r="15" fill="#10b981"/>
              <text x="190" y="240" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">7</text>
              <text x="230" y="240" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">8</text>
              <text x="270" y="240" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">9</text>
              <text x="310" y="240" text-anchor="middle" fill="#ffffff" font-family="system-ui" font-size="12" font-weight="600">√∑</text>
              <text x="190" y="270" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">4</text>
              <text x="230" y="270" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">5</text>
              <text x="270" y="270" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">6</text>
              <text x="310" y="270" text-anchor="middle" fill="#ffffff" font-family="system-ui" font-size="12" font-weight="600">√ó</text>
              <text x="190" y="300" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">1</text>
              <text x="230" y="300" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">2</text>
              <text x="270" y="300" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">3</text>
              <text x="310" y="300" text-anchor="middle" fill="#ffffff" font-family="system-ui" font-size="12" font-weight="600">-</text>
              <text x="190" y="330" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">0</text>
              <text x="230" y="330" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">.</text>
              <text x="270" y="330" text-anchor="middle" fill="#334155" font-family="system-ui" font-size="12" font-weight="600">C</text>
              <text x="310" y="330" text-anchor="middle" fill="#ffffff" font-family="system-ui" font-size="12" font-weight="600">=</text>
              <g transform="translate(200, 350)">
                <circle cx="0" cy="0" r="8" fill="#fbbf24" stroke="#f59e0b" stroke-width="1"/>
                <circle cx="15" cy="-5" r="8" fill="#fbbf24" stroke="#f59e0b" stroke-width="1"/>
                <circle cx="30" cy="0" r="8" fill="#fbbf24" stroke="#f59e0b" stroke-width="1"/>
                <path d="M 50 -5 L 65 -10 L 65 -2 L 80 -2 L 80 2 L 65 2 L 65 10 Z" fill="#10b981"/>
                <path d="M 90 -5 L 105 -10 L 105 -2 L 120 -2 L 120 2 L 105 2 L 105 10 Z" fill="#10b981"/>
              </g>
            </svg>\`;

                    function svgToPng(svgContent, size, callback) {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const img = new Image();

                        canvas.width = size;
                        canvas.height = size;

                        const svgBlob = new Blob([svgContent], {type: 'image/svg+xml;charset=utf-8'});
                        const url = URL.createObjectURL(svgBlob);

                        img.onload = function() {
                            ctx.drawImage(img, 0, 0, size, size);

                            canvas.toBlob(callback, 'image/png');
                            URL.revokeObjectURL(url);
                        };

                        img.src = url;
                    }

                    function downloadBlob(blob, filename) {
                        const url = URL.createObjectURL(blob);
                        const a = document.createElement('a');
                        a.href = url;
                        a.download = filename;
                        a.click();
                        URL.revokeObjectURL(url);
                    }

                    // Generate previews and download links
                    sizes.forEach(size => {
                        const preview = document.createElement('div');
                        preview.innerHTML = \`<h3>Icon \${size}x\${size}</h3>\`;

                        svgToPng(svgContent, size, (blob) => {
                            const img = document.createElement('img');
                            img.src = URL.createObjectURL(blob);
                            img.style.width = '100px';
                            img.style.height = '100px';
                            preview.appendChild(img);

                            const button = document.createElement('button');
                            button.textContent = \`–°–∫–∞—á–∞—Ç—å icon-\${size}.png\`;
                            button.onclick = () => downloadBlob(blob, \`icon-\${size}.png\`);
                            preview.appendChild(button);
                        });

                        document.getElementById('preview').appendChild(preview);
                    });

                    // Auto-generate files
                    setTimeout(() => {
                        sizes.forEach(size => {
                            svgToPng(svgContent, size, (blob) => {
                                downloadBlob(blob, \`icon-\${size}.png\`);
                            });
                        });
                    }, 1000);
        </script>
    </body>
</html>
